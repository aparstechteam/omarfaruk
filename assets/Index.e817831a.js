var C=Object.defineProperty,U=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var k=(n,o,t)=>o in n?C(n,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[o]=t,E=(n,o)=>{for(var t in o||(o={}))q.call(o,t)&&k(n,t,o[t]);if(S)for(var t of S(o))I.call(o,t)&&k(n,t,o[t]);return n},D=(n,o)=>U(n,M(o));import{l as w,o as v,c as x,a as e,t as c,d as m,w as p,u as r,L as P,M as d,N as u,F as j,g as V,i as A,r as N,b as O}from"./index.de171001.js";import{G as Q,Q as T,_ as R,q as B,Y as G}from"./headlessui.esm.e36a4688.js";import{a as g}from"./api.4c201a75.js";import{f}from"./formatData.16acd92b.js";import{u as F}from"./examStore.1642e4c6.js";const L={class:"fixed inset-0 z-10 overflow-y-auto"},Y={class:"min-h-screen px-4 text-center bg-[rgba(0,0,0,0.6)]"},z=e("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),H={class:"inline-block w-full max-w-xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},J=V(" Schedule An Exam "),K={class:"mt-2"},W=["onSubmit"],X={class:"form-control"},Z=e("label",{for:"title",class:"label"},"Title",-1),ee={class:"form-control"},te=e("label",{for:"subject",class:"label"},"Subject",-1),se={class:"form-control"},le=e("label",{for:"question_sheet",class:"label"},"Question Sheet ID",-1),oe={class:"grid grid-cols-2 gap-5"},ie={class:"form-control"},ae=e("label",{for:"duration",class:"label"},"Duration",-1),ne={class:"form-control"},re=e("label",{for:"total_marks",class:"label"},"Total Marks",-1),de={class:"grid grid-cols-2 gap-5"},ue={class:"form-control"},ce=e("label",{for:"start_time",class:"label"},"Start Time",-1),me={class:"form-control"},_e=e("label",{for:"end_time",class:"label"},"End Time",-1),pe={class:"form-control"},be=e("label",{for:"result_publish_time",class:"label"},"Result Publish Time",-1),he={class:"form-control"},fe=e("label",{for:"solution_publish_time",class:"label"},"Solution Publish Time",-1),ve=e("button",{type:"submit",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-green-500 border border-transparent rounded-md hover:bg-green-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-green-500"}," Schedule Exam ",-1),$={props:["examData"],emits:["close"],setup(n,{emit:o}){const{examData:t}=n,b=w(!1),_=()=>{b.value=!1},h=()=>{b.value=!0},s=w(t?D(E({},t),{start_time:new Date(new Date(t.start_time).getTime()+6*60*60*1e3).toISOString().slice(0,16),end_time:new Date(new Date(t.end_time).getTime()+6*60*60*1e3).toISOString().slice(0,16),result_publish_time:new Date(new Date(t.result_publish_time).getTime()+6*60*60*1e3).toISOString().slice(0,16),solution_publish_time:new Date(new Date(t.solution_publish_time).getTime()+6*60*60*1e3).toISOString().slice(0,16)}):{title:"",subject:"",question_sheet:"",duration:"",total_marks:"",start_time:"",end_time:"",result_publish_time:"",solution_publish_time:""}),a=async()=>{try{t?await g.put(`/exam/${t._id}`,s.value):await g.post("/exam",s.value),_(),o("close")}catch(y){console.log(y)}};return(y,l)=>(v(),x(j,null,[e("button",{class:"px-4 py-2 font-semibold text-white bg-green-500 rounded-md",onClick:h},c(n.examData?"Edit Exam":"Schedule Exam"),1),m(r(G),{appear:"",show:b.value,as:"template"},{default:p(()=>[m(r(Q),{as:"div",onClose:_},{default:p(()=>[e("div",L,[e("div",Y,[m(r(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>[m(r(R),{class:"fixed inset-0"})]),_:1}),z,m(r(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:p(()=>[e("div",H,[m(r(B),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:p(()=>[J]),_:1}),e("div",K,[e("form",{onSubmit:P(a,["prevent"])},[e("div",X,[Z,d(e("input",{type:"text",id:"title","onUpdate:modelValue":l[0]||(l[0]=i=>s.value.title=i),class:"input input-bordered",placeholder:"Enter Exam Title"},null,512),[[u,s.value.title]])]),e("div",ee,[te,d(e("input",{type:"text",id:"subject","onUpdate:modelValue":l[1]||(l[1]=i=>s.value.subject=i),class:"input input-bordered",placeholder:"Enter Exam Subject"},null,512),[[u,s.value.subject]])]),e("div",se,[le,d(e("input",{type:"text",id:"question_sheet","onUpdate:modelValue":l[2]||(l[2]=i=>s.value.question_sheet=i),class:"input input-bordered",placeholder:"Enter Question Google Sheet ID"},null,512),[[u,s.value.question_sheet]])]),e("div",oe,[e("div",ie,[ae,d(e("input",{type:"number",id:"duration","onUpdate:modelValue":l[3]||(l[3]=i=>s.value.duration=i),class:"input input-bordered",placeholder:"Enter Exam Duration"},null,512),[[u,s.value.duration]])]),e("div",ne,[re,d(e("input",{type:"number",id:"total_marks","onUpdate:modelValue":l[4]||(l[4]=i=>s.value.total_marks=i),class:"input input-bordered",placeholder:"Enter Exam Total Marks"},null,512),[[u,s.value.total_marks]])])]),e("div",de,[e("div",ue,[ce,d(e("input",{type:"datetime-local",id:"start_time","onUpdate:modelValue":l[5]||(l[5]=i=>s.value.start_time=i),class:"input input-bordered",placeholder:"Enter Exam Start Time"},null,512),[[u,s.value.start_time]])]),e("div",me,[_e,d(e("input",{type:"datetime-local",id:"end_time","onUpdate:modelValue":l[6]||(l[6]=i=>s.value.end_time=i),class:"input input-bordered",placeholder:"Enter Exam End Time"},null,512),[[u,s.value.end_time]])]),e("div",pe,[be,d(e("input",{type:"datetime-local",id:"result_publish_time",class:"input input-bordered","onUpdate:modelValue":l[7]||(l[7]=i=>s.value.result_publish_time=i),placeholder:"Enter Exam Result Publish Time"},null,512),[[u,s.value.result_publish_time]])]),e("div",he,[fe,d(e("input",{type:"datetime-local",id:"solution_publish_time",class:"input input-bordered","onUpdate:modelValue":l[8]||(l[8]=i=>s.value.solution_publish_time=i),placeholder:"Enter Exam Solution Publish Time"},null,512),[[u,s.value.solution_publish_time]])])]),e("div",{class:"flex justify-end gap-3 mt-4"},[ve,e("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500",onClick:_}," Cancel ")])],40,W)])])]),_:1})])])]),_:1})]),_:1},8,["show"])],64))}},xe={class:"max-w-2xl mx-auto"},ge={class:"flex justify-between"},ye=e("h1",{class:"text-2xl font-semibold"},"Exams",-1),Ee={class:"mt-5 space-y-5"},we={class:"space-y-3"},Se={class:"text-lg font-semibold"},ke={class:"space-y-3"},De={class:"flex gap-2"},Te=V(" Ranking "),$e={class:""},je=["onClick"],Pe={setup(n){const o=w([]),t=async()=>{const{data:_}=await g.get("/exam?admin=true");o.value=_.exams.map(h=>E({},h))};t();const b=async _=>{confirm("Are you sure?")&&(await g.delete(`/exam/${_}`),t())};return A(()=>{F().getExams()}),(_,h)=>{const s=N("router-link");return v(),x("div",xe,[e("div",ge,[ye,m($,{onClose:t})]),e("div",Ee,[(v(!0),x(j,null,O(o.value,a=>(v(),x("div",{key:a._id,class:"grid grid-cols-2 p-5 border rounded-md"},[e("div",we,[e("p",Se,c(a.title),1),e("p",null,c(a.subject),1),e("p",null," Duration: "+c(a.duration)+" Minutes ",1),e("p",null," Total Marks: "+c(a.total_marks),1)]),e("div",ke,[e("p",null," Exam Start: "+c(r(f)(a.start_time)),1),e("p",null," Exam Ends: "+c(r(f)(a.end_time)),1),e("p",null," Result Publish: "+c(r(f)(a.result_publish_time)),1),e("p",null," Solution Publish: "+c(r(f)(a.solution_publish_time)),1),e("div",De,[m(s,{to:`/admin/ranking/${a._id}`,class:"px-4 py-2 font-semibold text-white bg-blue-500 rounded-md"},{default:p(()=>[Te]),_:2},1032,["to"]),e("div",$e,[m($,{examData:a,onClose:t},null,8,["examData"])]),e("button",{onClick:y=>b(a._id),class:"px-4 py-2 font-semibold text-white bg-red-500 rounded-md"}," Delete ",8,je)])])]))),128))])])}}};export{Pe as default};
