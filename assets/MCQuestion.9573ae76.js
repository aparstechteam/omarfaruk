var te=Object.defineProperty,se=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var G=(n,a,l)=>a in n?te(n,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[a]=l,Y=(n,a)=>{for(var l in a||(a={}))re.call(a,l)&&G(n,l,a[l]);if(z)for(var l of z(a))ne.call(a,l)&&G(n,l,a[l]);return n},J=(n,a)=>se(n,oe(a));import{_ as ae}from"./examloading.f66f2dcc.js";import{o as t,c as s,a as o,t as v,E as le,y as b,s as ie,f as P,w as $,e as y,d as g,G as ce,u as de,H as ue,I as me,r as ve,g as u,h as C,F as L,b as F,J as p,K as _e,L as be,M as he,i as pe}from"./index.bff37370.js";import{_ as U,Q as K,b as fe,G as ge,Y as xe,u as ye,a as ke}from"./plugin-vue_export-helper.4ccf80f6.js";const we={props:{end_time:{type:Number,required:!0}},data(){return{minute:0,second:0}},mounted(){this.startTimer()},methods:{startTimer(){let n=new Date(this.end_time).getTime(),a=setInterval(()=>{let l=new Date().getTime(),c=n-l,h=Math.floor(c%(1e3*60*60)/(1e3*60)),f=Math.floor(c%(1e3*60)/1e3);this.minute=h,this.second=f,c<0&&clearInterval(a)},1e3)},stopTimer(){clearInterval(this.interval)}}},Te={class:"text-2xl btn"};function $e(n,a,l,c,h,f){return t(),s("div",null,[o("div",Te,v(h.minute)+" : "+v(h.second),1)])}var Me=U(we,[["render",$e]]),Le="/omarfaruk/assets/retake.3235226f.gif",Ce="/omarfaruk/assets/submit.38475667.png";const W=le("result",()=>{const n=b({type:"",score:0,show:!1});return{result:n,showResult:(c,h)=>{n.value.type=h,n.value.score=c,n.value.show=!0},closeModal:()=>{n.value.show=!1}}}),He={class:"fixed inset-0 z-10 overflow-y-auto"},Se={class:"min-h-screen px-4 text-center bg-[rgba(0,0,0,0.6)]"},Ne=o("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),Ie={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},Qe={class:"mt-2"},je={key:0,src:Le,class:"mx-auto h-36",alt:""},Ae={key:1,class:"mx-auto h-36",src:Ce,alt:""},Ee={class:"text-2xl font-semibold text-center"},Oe={setup(n){const a=W(),{result:l}=ie(a),c=()=>{a.closeModal()};return(h,f)=>(t(),P(g(xe),{appear:"",show:g(l).show,as:"template"},{default:$(()=>[y(g(ge),{as:"div",onClose:c},{default:$(()=>[o("div",He,[o("div",Se,[y(g(K),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:$(()=>[y(g(fe),{class:"fixed inset-0"})]),_:1}),Ne,y(g(K),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:$(()=>[o("div",Ie,[o("div",Qe,[g(l).type=="retake"?(t(),s("img",je)):(t(),s("img",Ae)),o("p",Ee," You scored: "+v(g(l).score),1)]),o("div",{class:"mt-4 text-right"},[o("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:c}," Got it, thanks! ")])])]),_:1})])])]),_:1})]),_:1},8,["show"]))}};const De=n=>(be("data-v-00163644"),n=n(),he(),n),Be={key:0,class:"max-w-md p-5 mx-2 my-10 md:mx-auto"},Re={class:"py-3 text-center"},Ve={key:0,class:"my-4 text-2xl font-bold text-gray-900 ma-auto"},ze={key:0},Ge={key:1,class:"text-center text-gray-900"},Ye={class:"py-5"},Je=C(" View Solution "),Fe=["textContent"],Ke=["textContent"],Pe={key:1,class:"container mx-auto"},Ue={key:0,class:"pb-10"},We={class:"py-4 text-center"},Xe=["innerHTML"],Ze={key:0,class:"mx-2 md:w-2/3 md:mx-auto"},qe=["src"],et=["innerHTML"],tt={class:"flex gap-2"},st={class:"btn btn-sm"},ot=De(()=>o("button",{class:"btn btn-sm"},"Marks: "+v(1),-1)),rt={class:"mt-3"},nt=["innerHTML","onClick"],at=["innerHTML","onClick"],lt=["innerHTML","onClick"],it=["innerHTML","onClick"],ct={class:"mb-10 text-center"},dt=["disabled"],ut={key:1,class:"md:w-2/3 md:mx-auto"},mt=["src"],vt=["innerHTML"],_t={class:"flex gap-3"},bt={class:"btn btn-sm"},ht={key:0,class:"btn btn-sm"},pt={class:"mt-3"},ft=["innerHTML"],gt=["innerHTML"],xt=["innerHTML"],yt=["innerHTML"],kt={key:2,class:"my-2 poppins"},wt=["innerHTML"],Tt={class:"material-icons"},$t={key:1,class:"fixed__timer"},Mt={key:2,class:"flex flex-col items-center justify-center w-full h-screen"},Lt=pe('<img src="'+ae+'" alt="" class="h-56" data-v-00163644><div class="flex items-center justify-center space-x-1 text-sm text-gray-700" data-v-00163644><svg fill="none" class="w-10 h-10 animate-spin" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" data-v-00163644><path clip-rule="evenodd" d="M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z" fill="currentColor" fill-rule="evenodd" data-v-00163644></path></svg><div class="text-lg" data-v-00163644>Please wait ...</div></div>',2),Ct=[Lt],Ht={setup(n){const{upcomingAlert:a}=ye(),{showResult:l}=W(),c=b([]),h=b(!0),f=b(!1),x=b(!0),Q=b(!1),j=b(Date.now()),A=b(!1),w=b(null),E=ce(),T=b(!1),X=i=>{var m=Math.floor(i/6e4),r=(i%6e4/1e3).toFixed(0);return m+":"+(r<10?"0":"")+r},{curexam:Z}=de(),d=b(Z);let k="https://script.google.com/macros/s/AKfycbz9OmMxzknSGJ96kpT8vuatKAxa2BLJ6qnC-fsCufUkeiSymRniQAs4OFTiHY8lQ3zZ1Q/exec?sheet="+d.value.exam.substr(39,44);const O=()=>{x.value=!0,fetch(_e+"?id="+D.params.id).then(i=>i.json()).then(i=>{d.value=i,k="https://script.google.com/macros/s/AKfycbyk1GskHMYpHLy4zfDXqDw7UHoHC2VBEpauNKxTpuyvuO1EODEML62_lFkmqYGcOwefyA/exec?sheet="+i.exam.substr(39,44),fetch(k+"&type=question").then(r=>r.json()).then(r=>{c.value=r,T.value=!0,h.value=!0,N.value=Date.now()+d.value.time*6e4,setTimeout(()=>{S()},d.value.time*6e4),x.value=!1})})},D=ue(),M=(i,m)=>{c.value[i].selected=m},{user:q}=me(),{name:B,ttrx:H,college:R}=q;(!B||!H||!R)&&E.replace("/register");const V=()=>{d?O():setTimeout(()=>{V()},1e3)};D.query.p&&V();const S=()=>{f.value=!0;let i=c.value.reduce((r,e)=>(e.correct==e.selected&&(r+=1),r),0),m=c.value.map(r=>{let _=[r.a,r.b,r.c,r.d].indexOf(r.selected);return{id:r.id,s:_}}).filter(r=>r.s>-1);if(T.value)l(i,"retake"),T.value=!1;else{window.scrollTo(0,0);const r={roll:H,name:B,attempt:localStorage.getItem(`bn24attempt${d.id}`)||1,score:i,college:R,duration:X(Date.now()-j.value),submission:JSON.stringify(m)};localStorage.setItem(`bn24exam_${d.id}`,JSON.stringify(J(Y({},r),{reqUrl:k}))),fetch(k,{method:"POST",mode:"no-cors",cache:"no-cache",redirect:"follow",body:JSON.stringify(r)}).then(()=>{l(i,"submit"),localStorage.removeItem(`bn24attempt${d.id}`),localStorage.removeItem(`bn24exam_${d.id}`)}),Q.value=!0}f.value=!1,h.value=!1},N=b(null);(()=>{x.value=!0,fetch(k+"&type=check&phone="+H).then(i=>i.json()).then(i=>{i.message=="exists"||d.is_ended?(A.value=!0,w.value=i.result?i.result:["","Time's up"],x.value=!1):fetch(k+"&type=question").then(m=>m.json()).then(m=>{c.value=m;let r=d.value.time;N.value=Date.now()+r*6e4;let e=localStorage.getItem(`bn24attempt${d.id}`);e?localStorage.setItem(`bn24attempt${d.id}`,Number(e)+1):localStorage.setItem(`bn24attempt${d.id}`,1),j.value=Date.now(),setTimeout(()=>{S()},r*6e4),x.value=!1})})})();const ee=()=>{E.replace("/ranking/"+d.value.id)};return(i,m)=>{const r=ve("router-link");return t(),s(L,null,[!x.value&&A.value&&!T.value?(t(),s("div",Be,[o("div",Re,[w.value[1]?(t(),s("h2",Ve,[w.value[1]!=="Time's up"?(t(),s("span",ze,"You Scored:")):u("",!0),C(" "+v(w.value[1]),1)])):u("",!0),w.value[1]=="Time's up"?(t(),s("p",Ge,"But you can still give the exam. Click 'Test yourself again'.")):u("",!0),o("div",null,[d.value.is_ended?(t(),s("button",{key:0,onClick:ee,class:"btn btn-large btn-primary"}," Leaderboard ")):u("",!0)]),o("div",Ye,[d.value.is_ended?(t(),P(r,{key:0,to:`/solution/${d.value.id}`,class:"my-2 btn btn-primary"},{default:$(()=>[Je]),_:1},8,["to"])):(t(),s("button",{key:1,class:"btn btn-primary",onClick:m[0]||(m[0]=e=>g(a)("MCQ Solve","Ends")),textContent:v("View Solution")},null,8,Fe))]),o("div",null,[o("button",{class:"btn btn-primary",onClick:O,textContent:v("Practice Now")},null,8,Ke)])])])):!x.value||T.value?(t(),s("div",Pe,[c.value.length>0?(t(),s("div",Ue,[o("div",We,[o("h1",{class:"text-2xl font-bold text-gray-900",innerHTML:d.value.topic},null,8,Xe)]),Q.value?(t(),s("div",ut,[(t(!0),s(L,null,F(c.value,(e,_)=>(t(),s("div",{key:_,class:"p-5 mx-auto my-3 text-lg bg-white border border-gray-300 rounded-md shadow-lg kalpurush"},[e.question.includes("drive.google.com")?(t(),s("img",{key:0,src:e.question.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie",""),class:"object-contain w-full py-3",alt:""},null,8,mt)):(t(),s("div",{key:1,class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,vt)),o("div",_t,[o("span",bt,"Q No. "+v(_+1),1),e.subject?(t(),s("span",ht,v(e.subject),1)):u("",!0)]),o("div",pt,[e.a?(t(),s("div",{key:0,innerHTML:e.a,class:p(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded   ${e.a==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white border"} ${e.a==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,ft)):u("",!0),e.b?(t(),s("div",{key:1,innerHTML:e.b,class:p(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white "} ${e.b==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,gt)):u("",!0),e.c?(t(),s("div",{key:2,innerHTML:e.c,class:p(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white "} ${e.c==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,xt)):u("",!0),e.d?(t(),s("div",{key:3,innerHTML:e.d,class:p(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded   ${e.d==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white border"} ${e.d==e.correct?"border-2 border-green-500 ":" bg-white "}`)},null,10,yt)):u("",!0)]),e.explain?(t(),s("h2",kt,"Explain:")):u("",!0),e.explain?(t(),s("div",{key:3,class:"p-3 my-3 bg-white border border-green-500 rounded",innerHTML:e.explain},null,8,wt)):u("",!0),o("div",{class:p(["flex gap-2 my-2 text-xl font-semibold",{"text-red-500":e.correct!=e.selected,"text-green-500":e.correct==e.selected}])},[o("span",Tt,v(e.correct==e.selected?"done":"close"),1),e.selected?(t(),s(L,{key:0},[C(v(e.correct==e.selected?"Correct":"Wrong"),1)],64)):u("",!0),C(" "+v(e.selected?"":"Not answered"),1)],2)]))),128))])):(t(),s("div",Ze,[(t(!0),s(L,null,F(c.value,(e,_)=>(t(),s("div",{key:_,class:p(["p-5 mx-auto my-3 text-lg bg-white border border-gray-300 rounded-md shadow-lg kalpurush",{"stop-events":c.value[_].selected}])},[e.question.includes("drive.google.com")?(t(),s("img",{key:0,src:e.question.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie",""),class:"object-contain w-full py-3",alt:""},null,8,qe)):(t(),s("div",{key:1,class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,et)),o("div",tt,[o("button",st,"Q No: "+v(_+1),1),ot]),o("div",rt,[e.a?(t(),s("div",{key:0,innerHTML:e.a,onClick:I=>M(_,e.a),class:p(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,nt)):u("",!0),e.b?(t(),s("div",{key:1,innerHTML:e.b,onClick:I=>M(_,e.b),class:p(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,at)):u("",!0),e.c?(t(),s("div",{key:2,innerHTML:e.c,onClick:I=>M(_,e.c),class:p(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,lt)):u("",!0),e.d?(t(),s("div",{key:3,innerHTML:e.d,onClick:I=>M(_,e.d),class:p(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,it)):u("",!0)])],2))),128)),o("div",ct,[o("button",{onClick:m[1]||(m[1]=e=>S()),disabled:f.value,class:p(["btn btn-success",{loading:f.value}])},v(f.value?"Loading...":"Submit"),11,dt)])]))])):u("",!0),h.value?(t(),s("div",$t,[y(Me,{end_time:N.value},null,8,["end_time"])])):u("",!0)])):(t(),s("div",Mt,Ct)),y(ke),y(Oe)],64)}}};var At=U(Ht,[["__scopeId","data-v-00163644"]]);export{At as default};
